<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Colorlib Templates">
    <meta name="author" content="Colorlib">
    <meta name="keywords" content="Colorlib Templates">

    <!-- Title Page-->
    <title>Register</title>

    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">

    <!-- Main CSS-->
    <link href="accountcss/css/main.css" rel="stylesheet" media="all">
</head>

<body>
    <div class="page-wrapper bg-dark p-t-100 p-b-50">
        <div class="wrapper wrapper--w900">
            <div class="card card-6">
                <div class="card-heading">
                    <h5 class="title">Eataewon Class Register Info</h5>
                </div>
                <div class="card-body">
                    <form id="frm">
                        
                        
                        <div class="form-row">
                            <div class="name">ID</div>
                            <div class="value">
                                <input class="input--style-6" id="userid" type="text">
                            <br><br>       
                            <p id="idcheck"></p>
                            <br>
							<button type="button" id="idcheckBtn"  class="btn btn--radius-2 btn--blue-2">중복확인</button>
                            </div>
                            
                        </div>
                        
                              <div class="form-row">
                            <div class="name">사용 가능 ID</div>
                            <div class="value">
                                <input class="input--style-6" id="id" name="id" type="text" readonly="readonly">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="name">Password</div>
                            <div class="value">
                                <input class="input--style-6" type="password" id="pwd" name="pwd" type="text">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="name">이름</div>
                            <div class="value">
                                <input class="input--style-6" type="text" id="name" name="name" type="text">
                            </div>
                        </div>
                        
                        
                        <div class="form-row">
                            <div class="name">Nickname</div>
                            <div class="value">
                                <input class="input--style-6" type="text" id="nickname" name="nickname" type="text">
                            </div>
                        </div>
                        
                       
                        
                        <div class="form-row">
                            <div class="name">Email address</div>
                            <div class="value">
                                <div class="input-group">
                                    <input class="input--style-6" type="text" id="email" name="email" placeholder="example@email.com">
                                </div>
                            </div>
                        </div>
                        
                        
                            <div class="form-row">
                            <div class="name">프로필 사진</div>
                            <div class="value">
                                <div class="input-group js-input-file">
                                    <input class="input-file" type="file" name="file_cv" id="file">
                                    <label class="label--file" for="file">프로필 사진 등록</label>
                                    <span class="input-file__info">나중에 등록</span>
                                </div>
                                <div class="label--desc">50 MB 이하의 사진을 등록해주세요.</div>
                            </div>
                        </div>
                        
                        
                       <div class="form-row">
                            <div class="name">임시 프로필 사진 항목</div>
                            <div class="value">
                                <div class="input-group">
                                    <input class="input--style-6" type="text" id="profilpic" name="profilpic">
                                </div>
                            </div>
                        </div>
                        
                        
                        
                        <div class="form-row">
                            <div class="name">프로필 메세지</div>
                            <div class="value">
                                <div class="input-group">
                                    <textarea class="textarea--style-6" type="text" id="profilmsg" name="profilmsg"></textarea>
                                </div>
                            </div>
                        </div>
                        
                        
                    
                    </form>
                </div>
                <div class="card-footer">
                    <button class="btn btn--radius-2 btn--blue-2" type="button" id="account">회원가입</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Jquery JS-->
    <script src="accountcss/vendor/jquery/jquery.min.js"></script>

    <!-- Main JS-->
    <script src="accountcss/js/global.js"></script>
<script type="text/javascript">
	$(document).ready(function() {
		
		$("#idcheckBtn").click(function() {
			$.ajax({
				url:"http://localhost:3000/getId",
				type:"post",
				data:{"id":$("#userid").val() },
				success:function( msg ){
					//alert('success')
					//alert(msg);
					if(msg.trim()=='OK'){
						$("#idcheck").html("이 아이디는 사용 가능합니다.");
						$("#id").val( $("#userid").val());
					}else{
						$("#idcheck").html("이 아이디는 사용중입니다.");
						$("#userid").val("");//삭제
						$("#userid").focus(); //다시 입력하라고 커서가 뜬다.
					}
				},
				error:function(){
					alert('error');
				}
			});
			
		});
		
		$("#account").on("click",function(){
			
			let params = $("#frm").serialize();
		//	alert(params);
			
			$.ajax({
				url:"http://localhost:3000/addmember",
				type:"post",
				//data:{id:$("#id").val(), pwd:$("#pwd").val(), name:$("name").val(), email:$("email").val() }, //id로 보낸것
				data:params,//name으로 보낸것
				success:function(data){
					//alert('success')
					if(data=="YES"){
						alert('가입 되었습니다.');
						location.href="bbslist.html";
					}else{
						alert('오류로 인하여 가입되지 않았습니다.');
					}
				},
				error:function(){
					alert('error');
				}
			});
			
		});
		
	});
	
	</script>
	





</body><!-- This templates was made by Colorlib (https://colorlib.com) -->

</html>
<!-- end document-->